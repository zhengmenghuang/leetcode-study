<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
<script>
  const nums1 = [4,9,5], nums2 = [9,4,9,8,4];
  const intersect = function(nums1, nums2) {
    if (nums1.length > nums2.length) [nums1, nums2] = [nums2, nums1];
    let arr = [], result = [];
    for(let i = 0; i < nums1.length; i++) {
      if (arr[nums1[i]] === undefined) {
        arr[nums1[i]] = 1
      } else {
        arr[nums1[i]]++
      }
    }

    for(let i = 0; i < nums2.length; i++) {
      if (arr[nums2[i]] > 0) {
        result.push(nums2[i]);
        arr[nums2[i]]--
      }
    }
    return result;
  };
  console.log(intersect(nums1, nums2));
</script>
</body>
</html>
